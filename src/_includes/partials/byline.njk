{% macro byline(authorOrTranslator, lazyLoad, showBio, role, locale) %}
    {% set authorOrTranslatorURL %}{{ authorOrTranslator.url if role === 'author' else (authorOrTranslator.path | url) }}{% endset %}
    {% set localizedRole %}{% t "localization-meta.roles." + (role if role else "author") %}{% endset %}
    {% set localizedLocale %}{% t "localization-meta.locales." + locale %}{% endset %}

    <section class="author-card">
        {% if authorOrTranslator.profile_image %}
            {% 
                image
                authorOrTranslator.profile_image,
                "author-profile-image",
                authorOrTranslator.name,
                "60px",
                [60],
                authorOrTranslator.image_dimensions.profile_image,
                lazyLoad
            %}
        {% else %}
            <span class="avatar-wrapper">{% include "partials/icons/avatar.njk" %}</span>
        {% endif %}

        <section class="author-card-content {{ "author-card-content-no-bio" if not showBio }}">
            <span class="author-card-name">
                <a href="{{ authorOrTranslatorURL }}">
                    {# Display original author / translator byline if role set #}
                    {% if role %}
                        {% if role === 'author' %}
                            {% t 'localization-meta.bylines.author', {
                                role: (localizedRole | capitalize),
                                name: authorOrTranslator.name,
                                locale: localizedLocale
                            } %}
                        {% else %}
                            {% t 'localization-meta.bylines.translator', {
                                role: (localizedRole | capitalize),
                                name: authorOrTranslator.name
                            } %}
                        {% endif %}
                    {% else %}
                        {{ authorOrTranslator.name }}
                    {% endif %}
                </a>
            </span>
            {% if showBio %}
                {% if authorOrTranslator.bio %}
                    <p>{{ authorOrTranslator.bio }}</p>
                {% else %}
                    <p>
                        {% t 'author.read-more', {
                            '<0>': '<a href="' + (authorOrTranslatorURL) + '">',
                            '</0>': '</a>',
                            role: (localizedRole | lower),
                            interpolation: {
                                escapeValue: false
                            }
                        } %}
                    </p>
                {% endif %}
            {% endif %}
        </section>
    </section>
{% endmacro %}
